{% extends "public_nav.html" %}
{% block title %}<title>图谱管理 - 编辑图谱</title>{% endblock %}
{% block my_css %}
    <link rel="stylesheet" href="/static/css/compile.css">
    <style type="text/css">
        .compile b,.compile a {
            color: #0099FF!important;
        }
    </style>
{% endblock %}

{% block main %}
<div id="container">
    <div class="conleft">
        <p class="lfone">节点编辑</p>
        <p class="lftwo">关系编辑</p>
    </div>
    <div class="conright">
        <div class="crt1">
            <div class="crt111">
                <span>节点类型：</span>
                <select name="" id="list1">
                    <option value="">关系1</option>
                    <option value="">关系2</option>
                </select>
            </div>
            <div class="crt122">
                <span>节点名称：</span>
                <input type="text"/>
            </div>
            <button class="crt133">确&nbsp;&nbsp;&nbsp;&nbsp;定</button>
        </div>
        <div class="crt2" style="display:none;">
            <div class="crt2lf">
                <table class="table">
                    <thead>
                        <tr style="background-color: #0099FF;">
                            <th>序号</th>
                            <th>节点名称</th>
                            <th>编辑</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="active">
                            <td>1</td>
                            <td>潘强</td>
                            <td>
                                <a>修改</a>&nbsp;&nbsp;&nbsp;&nbsp;
                                <a class='delt' type="button" data-toggle="modal">删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>郑再索</td>
                            <td>
                                <a>修改</a>&nbsp;&nbsp;&nbsp;&nbsp;
                                <a class='delt' type="button" data-toggle="modal">删除</a>
                            </td>
                        </tr>
                        <tr class="active">
                            <td>3</td>
                            <td>徐丽萍</td>
                            <td>
                                <a>修改</a>&nbsp;&nbsp;&nbsp;&nbsp;
                                <a class='delt' type="button" data-toggle="modal">删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>任志强</td>
                            <td>
                                <a>修改</a>&nbsp;&nbsp;&nbsp;&nbsp;
                                <a class='delt' type="button" data-toggle="modal">删除</a>
                            </td>
                        </tr>
                        <tr class="active">
                            <td>5</td>
                            <td>邓海峰</td>
                            <td>
                                <a>修改</a>&nbsp;&nbsp;&nbsp;&nbsp;
                                <a class='delt' type="button" data-toggle="modal">删除</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p class='jump' style='float:left;font-size:12px;margin: 5px 0px 0 50px;display:none;'>
                    <label class="radio-inline">
                        <input type="radio" name="ioja" value="option1"> 1跳
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="ioja" value="option2"> 2跳
                    </label>
                    <label class="radio-inline">    
                        <input type="radio" name="ioja" value="option2" checked> 全部
                    </label>
                    <button class="add22" type="button" data-toggle="modal">添加</button>
            </p> 
            <div class="crt2rg" style="float: left;margin: 40px 0 0 -250px;display:none;">
                 <div class="play">
                                                <div class="play1">
                                                    <div class="p11">
                                                        <span class="xingming" style="color: #000;font-weight: 900;font-size: 18px;margin-left: 15px">潘强</span><!--
                                                --><img style="margin-left: 15px;" src="/static/image/fensishu.png" alt=""><!--
                                                --><span class="difang" style="font-size: 8px">6720</span><!--
                                                --><img class='xin' style="margin-left: 10px;" src="/static/image/heart.png">
                                                    </div>
                                                    <div class="p22" style="margin-top: 5px">
                                                        <img style="margin-left: 10px;" src="/static/image/influence.png" alt="">
                                                        <span class="influence">3083</span>
                                                        <img src="/static/image/huoyuedu.png" alt="">
                                                        <span class="huoyuedu">254</span>
                                                        <img src="/static/image/mingan.png" alt="">
                                                        <span class="mingan">80</span>
                                                    </div>
                                                </div>
                                                <img class="play2" src="/static/image/pangzi.png" alt="">
                                                <div class="play23" style="margin-left: 15px;">
                                                    <a href="###" class="renzh1">认证类型:<span class="renzh11">法律机构及人士</span></a>
                                                    <a href="###" class="renzh2">领&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;域:<span class="renzh22">民生类_健康</span></a>
                                                </div>
                                                <div class="play3" style="display:block;margin-top: 10px;vertical-align:bottom;padding-left: 15px">
                                                    <a class="bus1">业务标签：</a>
                                                    <a class="bus2">律师</a>
                                                    <a class="bus2">法律人士</a>
                                                </div>
                                                <!--<div class="play4">-->
                                                <!--<p class="shuoming">-->
                                                <!--徐玉玉接到骗子电话后被骗9900元学费，报案回来的路上心脏骤停，离世。-->
                                                <!--</p>-->
                                                <!--</div>-->
                                                <div class="play5" type="button" data-toggle="modal">
                                                    <a>加入群体探索</a>
                                                </div>
                                            </div>
            </div>
        </div>
    </div>
    <div class="conright2" style="display: none">
        <div class="editor">
            <div class="checkbox editor1">
                <label>
                    <input type="checkbox"> 输入节点1
                </label>
            </div>
            <input type="text" class="editor111" style="width: 230px;padding: 5px;font-size: 12px"/>
            <div class="checkbox editor2" style="margin-left: 50px">
                <label>
                    <input type="checkbox"> 输入节点2
                </label>
            </div>
            <input type="text" class="editor222" style="width: 230px;padding: 5px;font-size: 12px"/>
            <button class="editor3">确定</button>
        </div>
        <div class="listcell">
            <div class="lcleft" style="display:none;">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>序号</th>
                            <th>节点1</th>
                            <th>节点2</th>
                            <th>关系</th>
                            <th>编辑</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>潘强</td>
                            <td>徐丽萍</td>
                            <td>朋友</td>
                            <td><a>修改</a>&nbsp;&nbsp;&nbsp;&nbsp;<a>删除</a></td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>潘强</td>
                            <td>徐丽萍</td>
                            <td>朋友</td>
                            <td><a>修改</a>&nbsp;&nbsp;&nbsp;&nbsp;<a>删除</a></td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>潘强</td>
                            <td>徐丽萍</td>
                            <td>朋友</td>
                            <td><a>修改</a>&nbsp;&nbsp;&nbsp;&nbsp;<a>删除</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="lcright" style='display:none;'>
                <p class="lcr1">
                    <span class="lcrone">潘强</span>
                    <span class="icon icon-paperclip"></span>
                    <span class="lcrtwo">徐丽萍</span>
                </p>
                <div class="checkbox lcr2">
                    <p class="chosion">
                        选择关系
                    </p>
                    <label>
                        <input type="checkbox" value="option1">  关系1
                    </label>
                    <label>
                        <input type="checkbox" value="option1">  关系1
                    </label>
                    <label>
                        <input type="checkbox" value="option1">  关系1
                    </label>
                    <label>
                        <input type="checkbox" value="option1">  关系1
                    </label>
                    <label>
                        <input type="checkbox" value="option1">  关系1
                    </label>
                    <label>
                        <input type="checkbox" value="option1">  关系1
                    </label>
                    <label>
                        <input type="checkbox" value="option1">  关系1
                    </label>
                    <label>
                        <input type="checkbox" value="option1">  关系1
                    </label>
                    <label>
                        <input type="checkbox" value="option1">  关系1
                    </label>
                    <label>
                        <input type="checkbox" value="option1">  其他
                    </label>
                    <input type="text" class="other" style="border: 1px solid #a5a5a5;width: 150px;margin-left: -40px"/>
                    <button class="yes" type="button" data-toggle="modal">确定</button>
                    <div class="modal fade yes22" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" style="display: none;">
                        <div class="modal-dialog modal-sm">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                                    <h4 class="modal-title" id="mySmallModalLabel">提示信息</h4>
                                </div>
                                <div class="modal-body" style="text-align: center">
                                    修改成功
                                </div>
                            </div><!-- /.modal-content -->
                        </div><!-- /.modal-dialog -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="join1" tabindex="-2">
    <div class="modal-dialog">
        <div class=modal-content>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">删除提示</h2>
            </div>
            <div class="modal-body">
                <p>您确定删除吗？</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">
                    关闭
                </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="join6" tabindex="-3">
    <div class="modal-dialog">
        <div class=modal-content>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">编辑专题</h2>
            </div>
            <div class="modal-body">
                <div class="xinzeng" style="margin-top: 20px;padding-left: 20px;">
                            <!-- <p class="tit">新建专题</p> -->
                            <form style="margin-left: 40px;">
                                <span class="xz1">群体名称</span>
                                <select name="" id="list1" onchange='check(this.value)'>
                                    <option value="" disabled selected>请选择群体名称</option> 
                                    <option value="新建群体">新建群体</option>
                                    <option value="律师群体">律师群体</option>
                                </select>
                                <input type="text" class="shuru2" placeholder="请输入群体名称"/>
                            </form>
                            <div class="shij">
                                <span class="sjr">加入人物</span>
                                <a class="sj1">邓海峰 <b class="icon icon-remove det"></b> </a>
                                <a class="sj2">潘强 <b class="icon icon-remove det"></b> </a>
                            </div>
                        </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">
                    关闭
                </button>
                <button type="button" class="btn btn-danger">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="join4" tabindex="-2">
    <div class="modal-dialog">
        <div class=modal-content>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">温馨提示</h2>
            </div>
            <div class="modal-body">
                <p>您已选择此专题，选择完毕后请点击右上角 “ 添加 ” 按钮，加入到专题中O(∩_∩)O<br>
                    如您不需要可以再次点击取消选择专题</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="join5" tabindex="-1">
    <div class="modal-dialog">
        <div class=modal-content>
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
                <h2 class="modal-title">编辑专题</h2>
            </div>
            <div class="modal-body">
                <div class="xinzeng" style="margin-top: 20px;padding-left: 20px;">
                    <!-- <p class="tit">专题编辑</p> -->
                    <form style="margin-left: 40px;">
                        <span class="xz1">专题名称</span>
                        <select name="" id="list1" onchange='check2(this.value)'>
                            <option value="" disabled selected>请选择专题名称</option> 
                            <option value="新建专题">新建专题</option>
                            <option value="电信诈骗">电信诈骗</option>
                        </select>
                        <input type="text" class="shuru2" placeholder="请输入专题名称" style='display:none'/>
                    </form>
                    <div class="shij">
                        <span class="sjr">加入事件</span>
                        <a class="sj1">徐玉玉事件 <b class="icon icon-remove det"></b> </a>
                        <a class="sj2">大学生失联 <b class="icon icon-remove det"></b> </a>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">
                    关闭
                </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block my_js %}
<script src="/static/js/compile.js"></script>
<script>
    $.each($(".delt"),function(index,item){
        $(item).on('click',function(){
            $('#join1').modal("show");
            $(item).parents('tr').hide();
        });
    })
    var td2=$(".conright .table tr").find('td');
    $.each(td2,function(index,item){
        $(item).on('click',function () {
            if (index==1) {
                $(".conright .crt2rg").show(100);
                $(".conright .jump").show(100);
            };           
        })
    });
    $("#container .conright2 .editor .editor3").on('click',function () {
        $('.lcleft').show(20);
    });
    var xiu=$("#container .conright2 .listcell tr");
    $.each(xiu,function(index,item){
        $(item).on('click',function(){
            var last = $(item).find('td')[$(item).find('td').length-1];
            var last1 =$(last).find('a').eq(0);
            var last2 =$(last).find('a').eq(1);
            if ($(last1).text()=="修改") {
                $('.lcright').show(20);
            };
            if ($(last2).text()=="删除") {
                $('#join1').modal("show");
            };
            
        })
    });
    $('.conright .add22').on('click',function () {
        $('#join6').modal("show");
    });
    $('.conright2 .add22').on('click',function () {
        $('#join5').modal("show");
    });
    $('#container .conright .crt1 .crt133').on('click',function(){
        $("#container .conright .crt2").show(20);
    })
    $.each($('.menuList'),function(index,item){
        $(item).css({display:'none'});
        if (index==1) {
            $(item).css({display:'block'});
        };
    });
    $('.yes').on('click',function () {
        $('.yes22').modal("show");
    });
    $(".lfone").on('click',function () {
        $(".conright").css({display:'block'});
        $(".conright2").css({display:'none'});
    });
    $(".lftwo").on('click',function () {
        $(".conright").css({display:'none'});
        $(".conright2").css({display:'block'});
    });
    $.each($('.conright .xingming'),function(index,item){
        $(item).on('click',function () {
            window.open('/index/person/');
        })
    })
    var play=$("#container .conright .play");
        $.each(play,function (index,item) {
            $(item).hover(function () {
                $(item).find(".play5").css({
                    "-webkit-transform":"translateY(-40px)",
                    "-moz-transform":"translateY(-40px)",
                    "-ms-transform":"translateY(-40px)",
                    "-o-transform":"translateY(-40px)",
                    "transform":"translateY(-40px)",
                })
            },function () {
                $(item).find(".play5").css({
                    "-webkit-transform":"translateY(40px)",
                    "-moz-transform":"translateY(40px)",
                    "-ms-transform":"translateY(40px)",
                    "-o-transform":"translateY(40px)",
                    "transform":"translateY(40px)",
                })
            });
        });
        $.each(play,function (index,item) {
            var changecolor=1;
            $(item).find(".play5").on('click',function(){
                if (changecolor==1) {
                    $(this).parent('.play').css({backgroundColor:'#09F'});
                    changecolor=2;
                    $('#join4').modal("show");
                } else {
                    $(this).parent('.play').css({backgroundColor:'#d2dcf7'});
                    changecolor=1;
                }
            }); 
        });
        var heart=$(".play .play1 .p11 .xin");
        $.each(heart,function(index,item){
            var chan=1;
            $(item).on('click',function(){
                if (chan==1) {
                    $(this).attr('src','/static/image/focus.png');
                    chan=2;
                }else {
                    $(this).attr('src','/static/image/heart.png');
                    chan=1;
                }
                
            })
        });
        function check(value){
            if (value=='新建群体') {
                $('.shuru2').show();
            }else{
                $('.shuru2').hide();
            };
        };
        function check2(value){
            if (value=='新建专题') {
                $('.shuru2').show();
            }else{
                $('.shuru2').hide();
            };
        };
</script>
{% endblock %}
